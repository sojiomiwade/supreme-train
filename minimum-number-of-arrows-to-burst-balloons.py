sprev, eprev
count 1
sort by the ends
for each point scur,ecur
  if 
  
   ----
     ----

        -------
----------------
             ----
             ----
             -------
     |       |
 
 -----
   -------
                          -------
             ---
                    ----------      
       -------
